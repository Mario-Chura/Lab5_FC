This README file describes how to compile and set up GMES.

1. Download Latest Version

You can download the latest release at the GMES project page of sourceforge:

http://sourceforge.net/projects/gmes

The current development version is always available from a subversion 
repository:

http://gmes.svn.sf.net/svnroot/gmes/trunk

2. Compatibility

2.1. GNU/Linux

GMES has been tested on Leny (stable) version of Debian GNU/Linux. Also, GMES
works on Ubuntu 9.10 (Karmic Koala).

2.2. Windows

GMES has been tested on Windows XP Professional Service Pack 3 and Windows 
Vista Enterprise K Service Pack 1.

3. Preliminaries

3.1. GNU/Linux

GMES uses various Python and non-Python programs. You will need following 
programs to install and execute GMES. The following programs are provided as 
packages on Debian and Ubuntu distributions, except the MPICH2 and MPI4Python.

* python >= 2.5 (tested with 2.5.2, and 2.6.4)
* numpy (Debian package: python-numpy)
* scipy (Debian package: python-scipy)
* pytables (optional) (Debian package: python-tables)
* matplotlib: (Debian package: python-matplotlib)
* MPI4Python >= 1.1.0 (optional) (with MPICH2 >= 1.2)
* swig >= 1.3.36 (for compile) (Debian package: swig)
* g++ (to compile) (Debian package: g++)

3.2. Windows

Enthought Python distribution provides all programs except MPICH2 and 
MPI4Python on which GMES depends. We didn't tested the MPI environment on 
Windows.

* Enthought Python Distribution (EPD) >= 6.0.0

4. Compile and Install

If you like to test the GMES without or before installation, follow 'compile 
for the inplace test' section. Otherwise, follow 'compile' and 'install' 
sections in order. The command preceding '#' mark means that the command 
should be executed as the root privilege. 

4.1. For GNU/Linux

4.1.1. compile for the inplace test

$ python setup.py build_ext -i

4.1.2. compile

$ python setup.py build_ext --swig-opts="-c++"

4.1.3. install

# python setup.py install build_ext --swig-opts="-c++"

4.2. For Windows

4.2.1. compile for the inplace test

$ python setup.py build_ext -i -c mingw32

4.2.2. compile

$ python setup.py build_ext -c mingw32

4.2.3. compile & install

# python setup.py install build_ext -c mingw32

5. Execution Commands

5.1. GNU/Linux with MPI2

Your MPI2 implementation may requires pre- or post- commands to exploit the 
parallel environment. Consult the manuals of your MPI2 implementation for 
these commands. <N> and <GMES SCRipT> indicate the number of parallel process
and your script which uses the GMES package.
 
$ mpiexec -l -n <N> python <GMES SCRIPT>

6. Known Issues

6.1. Matplotlib in Windows

The EPD version of the Matplotlib package which is required by fdtd.show_* 
methods seems to that it does not handle multiple plots in multiple windows.
Thus, on Windows, the multiple real-time display windows using fdtd.show_* 
methods could be freeze. The Linux version of matplotlib does not have this 
problem.

6.2. numpy.inf

GMES does not treat well the value of numpy.inf. Please use big enough 
value instead of numpy.inf.

6.3. compile failure on Windows

On Windows, the compile command may die with the following error.

g++: build\temp.win32-2.5\Release\src\lib_pointwise_material.a: No such
file or directory

If you meet this error, comment out the following third line from 
C:<Python Folder>\Lib\distutils\cygwinccompiler.py.

# dllwrap uses different options than gcc/ld
if self.linker_dll == "dllwrap":
    # extra_preargs.extend(["--output-lib", lib_file]) <= this line
    # for dllwrap we have to use a special option
    extra_preargs.extend(["--def", def_file])
    
Kyungwon Chun (kwchun@gist.ac.kr)
